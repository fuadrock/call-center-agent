<header id="page-topbar">
  <div class="navbar-header">
    <div class="d-flex">
      <!-- LOGO -->
      <div class="navbar-brand-box">
        <a routerLink="/" class="logo logo-dark">
          <span class="logo-sm">
            <img src="assets/images/logo-sm.png" alt="" height="22">
          </span>
          <span class="logo-lg">
            <img src="assets/images/logo-dark.png" alt="" height="22">
          </span>
        </a>

        <a routerLink="/" class="logo logo-light">
          <span class="logo-sm">
            <img src="assets/images/logo-sm.png" alt="" height="22">
          </span>
          <span class="logo-lg">
            <img src="assets/images/logo-light.png" alt="" height="22">
          </span>
        </a>
      </div>

      <button type="button" class="btn btn-sm px-3 font-size-16 header-item vertical-menu-btn"
        (click)="toggleMobileMenu($event)">
        <i class="fa fa-fw fa-bars"></i>
      </button>
      <!-- <button (click)="ResizeFrame()"> click resize</button> -->
    </div>

    <div class="d-flex">

      <div>
        <iframe (load)="myLoadEvent(frame)" [src]="iframeSrc" frameborder="0" scrolling="no" class="iframe-init" allowtransparency="true"
          allow="camera;microphone" #frame style="height: 50px;"></iframe>
      </div>

      <!-- <div class="dropdown d-inline-block d-flex align-items-center"> <i
          class="fas fa-circle  font-size-16 align-middle me-1" id="StatusBtn" #StatusBtn></i></div> -->

      <div class="dropdown d-inline-block" ngbDropdown>
        <!-- <button type="button" class="btn header-item user text-start d-flex align-items-center"
          id="page-header-user-dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"
          ngbDropdownToggle>
          <img class="rounded-circle header-profile-user" src="assets/images/users/avatar-1.jpg" alt="Header Avatar">
          <span class="ms-2 d-none d-sm-block user-item-desc">
            <span class="user-name">{{user?.name }}</span>
            <i class="fas fa-circle text-success font-size-12 align-middle me-1" id="StatusBtn" #StatusBtn></i>
            <span class="badge bg-light">Available</span>
            <span class="user-sub-title text-primary font-weight-bold">Ext. 100</span>
          </span>
        </button> -->
        <button
        type="button"
        class="btn header-item user text-start d-flex align-items-center"
        id="page-header-user-dropdown"
        data-bs-toggle="dropdown"
        aria-haspopup="true"
        aria-expanded="false"
        ngbDropdownToggle
      >
        <img
          class="rounded-circle header-profile-user"
          src="assets/images/users/avatar-1.jpg"
          alt="Header Avatar"
        />
        <span class="ms-2 d-none d-sm-block user-item-desc">
          <span class="user-name">{{user?.name}}</span>
          <i
            class="fas fa-circle text-success font-size-12 align-middle me-1"
            id="StatusBtn" #StatusBtn
          ></i><span class="badge bg-light">{{currentStatus.name}}</span>
          <span class="user-sub-title text-primary font-weight-bold">Ext. {{user?.agent?.extension}}</span>
        </span>
      </button>
        <div class="dropdown-menu dropdown-menu-end pt-0" ngbDropdownMenu>
          <div class="p-3 bg-primary border-bottom">
            <h6 class="mb-0 text-white">{{user?.email}}</h6>

          </div>
          <ng-container *ngFor="let status of statuses">
            <a class="dropdown-item" (click)="setStatus(status,StatusBtn)" [ngClass]="status.a_class"
              [routerLink]="[]"><i [ngClass]="status.i_class" class="fas fa-circle font-size-16 align-middle me-1 "></i>
              <span class="align-middle">{{status.name}}</span></a>

          </ng-container>


          <div class="dropdown-divider"></div>

          <a class="dropdown-item" href="javascript: void(0);" (click)="logout()"><i
              class="mdi mdi-logout text-muted font-size-16 align-middle me-1"></i> <span class="align-middle">Exit
              client</span></a>
        </div>
      </div>
    </div>
  </div>
</header>
